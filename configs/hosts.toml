# =============================================================================
# TrustTunnel TLS Hosts Configuration (hosts.toml)
# =============================================================================
# Настройки TLS сертификатов и хостов
# =============================================================================

# -----------------------------------------------------------------------------
# Основные хосты для VPN туннелирования
# -----------------------------------------------------------------------------
# Эти хосты используются для основного VPN-соединения
# Должны совпадать с доменом в сертификате

[[main_hosts]]
# Доменное имя для TLS SNI (Server Name Indication)
# ЗАМЕНИТЕ на ваш домен
hostname = "your-domain.com"
# Путь к файлу цепочки сертификатов (PEM формат)
cert_chain_path = "certs/cert.pem"
# Путь к файлу приватного ключа (PEM формат)
private_key_path = "certs/key.pem"

# Можно добавить несколько основных хостов для разных доменов
# [[main_hosts]]
# hostname = "vpn2.example.com"
# cert_chain_path = "certs/cert2.pem"
# private_key_path = "certs/key2.pem"

# -----------------------------------------------------------------------------
# Хосты для HTTPS проверок (Health Checks / Ping)
# -----------------------------------------------------------------------------
# Возвращают HTTP 200 OK на GET запросы
# Используются для проверки доступности сервера

[[ping_hosts]]
hostname = "your-domain.com"
cert_chain_path = "certs/cert.pem"
private_key_path = "certs/key.pem"

# -----------------------------------------------------------------------------
# Хосты для проверки скорости (Speedtest)
# -----------------------------------------------------------------------------
# Обрабатывают тесты скорости:
# - GET /Nmb.bin (N=1-100): Скачать N мегабайт случайных данных
# - POST /upload.html: Тест загрузки (до 120 МБ)

[[speedtest_hosts]]
hostname = "your-domain.com"
cert_chain_path = "certs/cert.pem"
private_key_path = "certs/key.pem"

# -----------------------------------------------------------------------------
# Хосты обратного прокси (опционально)
# -----------------------------------------------------------------------------
# Требуют включённой секции [reverse_proxy] в vpn.toml
# Используются для проксирования внешних запросов на локальные сервисы

# [[reverse_proxy_hosts]]
# hostname = "api.example.com"
# cert_chain_path = "certs/cert.pem"
# private_key_path = "certs/key.pem"

# =============================================================================
# Примечания по сертификатам
# =============================================================================
#
# 1. Let's Encrypt (рекомендуется для продакшена):
#    - Требуется публичный домен, указывающий на IP сервера
#    - Порт 80 должен быть доступен для HTTP-01 challenge
#    - Автоматическое обновление через setup_wizard
#
# 2. Самоподписанный сертификат (для тестирования):
#    - Генерируется через setup_wizard
#    - Не работает с Flutter клиентом (только CLI)
#    - Требует ручного добавления в доверенные на клиентах
#
# 3. Существующий сертификат:
#    - Укажите пути к вашим файлам .pem
#    - Поддерживает любые CA (Comodo, DigiCert, и т.д.)
#
# =============================================================================
